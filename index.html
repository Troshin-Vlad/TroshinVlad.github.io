<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Efim</title>
		<link rel="stylesheet" type="text/css" href="style/font.css">
		<link rel="stylesheet" type="text/css" href="style/style.css">
		<link rel="stylesheet" type="text/css" href="style/media.css">
		<link rel="shortcut icon" href="style/images/ico/mebel_ico.png" type="image/x-icon">
		<script type="text/javascript" src="scripts/jquery-3.1.1.min.js"></script>
	</head>
	<body id="top">
		<div class="window viewer">
			<div class="prev-images">
				<div class="container in-prev">
					<div class="prev-image">
						<div class="inimg" title="перейти к предыдущему изображению"></div>
					</div>
				</div>
			</div>
			<div class="now-images">
				<div class="image-center">
					<div id="cross"></div>
				</div>
			</div>
			<div class="next-images">
				<div class="container">
					<div class="next-image">
						<div class="inimg" title="перейти к следующему изображению"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="screen-block" id="home">
			<div class="header">
				<div>
					<ul class="list-link">
						<li id="to-contacts"><span>Contacts</span></li>
						<li id="to-about_us"><span>About Us</span></li>
						<li id="to-gallery"><span>Gallery</span></li>
						<li id="to-home"><span>Home</span></li>
					</ul>
				</div>
			</div>
			<div class="logo">
				<div class="center-logo">
					<div class="border-logo top-border"></div>
					<div class="logotype">
						<span>ефим</span>
					</div>
					<div class="border-logo bottom-border"></div>
				</div>
			</div>
			<div class="link-down">
				<div class="down-text down-part">
					<div class="in-down">
						<span>Down</span>
					</div>
				</div>
				<div class="down-ico down-part">
					<div class="center-down-ico">
						
					</div>
				</div>
			</div>
		</div>

		<div class="screen-block" id="gallery">
			<div class="gallery">
				<div class="part-gallery head">
					<div class="part-header head-top"></div>
					<div class="part-header head-down">
						<div class="head-desc">
							<span>Галерея</span>
						</div>
					</div>
				</div>
				<div class="part-gallery images">
					<div class="left block-gallery gallery-part"></div>
					<div class="gallery-content gallery-part">
						<div class="img-box" style="background-image: url('images/kitchen_1.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_2.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_3.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_4.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_5.jpg')"></div>
						<div class="img-box" style="background-image: url('images/lounge_1.jpg')"></div>
						<div class="img-box" style="background-image: url('images/lounge_2.jpg')"></div>
						<div class="img-box" style="background-image: url('images/lounge_3.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_6.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_8.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_9.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_10.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_11.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_12.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_13.jpg')"></div>
						<div class="img-box" style="background-image: url('images/kitchen_14.jpg')"></div>
					</div>
					<div class="right block-gallery gallery-part"></div>
				</div>
			</div>
		</div>
		<div id="about-us">
			<div class="header-about">
				<h2><span>О нас</span></h2>
			</div>
			<div class="desc-about-us">
				<div class="description"><span>Мы производим идивидуальную мебель на заказ. Учитываем желание клиента его потребности и нужды.</span></div>
			</div>
			<div class="three-block">
				<table class="table-three">
					<tbody>
						<tr>
							<td>
								<div class="three-head">
									<h3><span>Цена</span></h3>
								</div>
								<div class="three-desc">
									<div>
										<span>Собственное производство, новое импортное оборудование, высококвалифицированный персонал - все это позволяет нам предложить по-настоящему выгодные цены на мебель</span>
									</div>
								</div>
							</td>
							<td>
								<div class="three-head">
									<h3><span>Качество</span></h3>
								</div>
								<div class="three-desc">
									<div>
										<span>Качество мебели всегда на высоком уровне компания чётко следит за всеми нюансами и договоренностями между клиентом и производителем. И так же устраняет все недочеты при их возникновении</span>
									</div>
								</div>
							</td>
							<td>
								<div class="three-head">
									<h3><span>Идивидуальность</span></h3>
								</div>
								<div class="three-desc">
									<div>
										<span>Индивидуальный подход к каждому клиенту – залог долгосрочного взаимовыгодного сотрудничества. </span>
									</div>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div id="contacts">

			<div class="block-title">
				<div class="title">
					<!-- <div class="underline"></div> -->
					<h3><span class="title-line">Связаться с нами</span></h3>
					<div class="underline"></div>
				</div>
			</div>

			<div class="block-connect">
				<div class="connect contacts-part">
					<div class="content-contacts">
						<div class="contact-box">
							<div><span>Контакты</span></div>
						</div>
						<div>
							<table class="table-contacts">
								<tbody>
									<tr>
										<td><span>email:</span></td>
										<td><span>mebelotazima@mail.ru</span></td>
									</tr>
									<tr>
										<td><span>телефон:</span></td>
										<td><span>8(953)044-78-77</span></td>
									</tr>
									<tr>
										<td><span>адрес:</span></td>
										<td><span></span></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="connect email-part">
					<form action="send.php" method="POST" id="form-send">
						<table class="table-email">
							<tbody>
								<tr class="line-row">
									<td>
										<div class="enter-box">
											<input title="Введите имя" class="enter enter-style" type="text" placeholder="Имя">
										</div>
									</td>
									<td>
										<div class="enter-box">
											<input title="Введите email" class="enter enter-style" type="text" placeholder="Email">
										</div>
									</td>
								</tr>
								<tr class="fill-row">
									<td colspan="2">
										<div class="enter-box">
											<textarea title="Введите сообщение" class="enter-field enter-style" cols="30" rows="10" placeholder="Сообщение"></textarea>
										</div>
									</td>
								</tr>
								<tr class="line-row">
									<td colspan="2">
										<div class="enter-button">
											<input class="button-send" type="button" value="Отправить">
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</form>
				</div>
			</div>
		</div>
		<div id="footer">
			<div class="infoot">
				<div>
					<div class="copyright">
						<span class="site-year">2017 </span><span>© Ефим</span>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>

		var viewer = {
			element: $("div.viewer"),
			delay: 300,
			show: function(){
				this.element.fadeIn(this.delay);
			},
			hide: function(){
				$("div.img-box").removeClass("prev now next");
				this.element.fadeOut(this.delay);
			}
		};

		var images = {
			prev: function(){

				$("div.prev-image").css({ "background-image": $("div.prev").prev().css("background-image") });
				$("div.image-center").css({ "background-image": $("div.prev").css("background-image") });
				$("div.next-image").css({ "background-image": $("div.now").css("background-image") });


				$("div.prev").prev().addClass("prev");
				$("div.now").prev().removeClass("prev");

				$("div.now").prev().addClass("now");
				$("div.next").prev().removeClass("now");
				$("div.next").removeClass("next");

				$("div.now").next().addClass("next");

			},
			next: function(){

				$("div.prev-image").css({ "background-image": $("div.now").css("background-image") });
				$("div.image-center").css({ "background-image": $("div.next").css("background-image") });
				$("div.next-image").css({ "background-image": $("div.next").next().css("background-image") });

				$("div.next").next().addClass("next");
				
				$("div.now").next().removeClass("next");
				$("div.now").next().addClass("now");
				
				$("div.prev").next().removeClass("now");
				$("div.prev").removeClass("prev");
				$("div.now").prev().addClass("prev");

			}
		}

		function central(){
			$("div.container").css({
				"margin-top": (( $("div.prev-images").height() -  $("div.container").height()+20 ) / 2) + "px"
			});
		}

		$(document).ready(function(){

			$("div.images-view").css({
				"left": (screen.width - $("div.images-view").width())/2,
				"background-image": 'url("images/kitchen_1.jpg")'
			});

			$("div.close-viewer").bind("click", function(){
				if($("div.images-view").is(":visible")){
					$("div.images-view").fadeOut(200);
				}
				else{
					$("div.images-view").fadeIn(200);
				}
				
			});



			$("a#to-top").bind("click", function(){
				$("html, body").animate({scrollTop:0}, 'slow');
				return false;
			});

			$("div.link-down").bind("click", function(){
				var scroll = $("div#home").height();
				$("html, body").animate({scrollTop:scroll}, 'slow');
			});

			$("li#to-gallery").bind("click", function(){
				var scroll = $("div#home").height();
				$("html, body").animate({scrollTop: scroll}, 'slow');
			});

			$("li#to-contacts").bind("click", function(){
				var scroll = $("div#home").height() + $("div#about-us").height() + $("div#gallery").height();
				$("html, body").animate({scrollTop: scroll}, 'slow');
			});

			$("li#to-about_us").bind("click", function(){
				var scroll = $("div#home").height() + $("div#gallery").height();
				$("html, body").animate({scrollTop: scroll}, 'slow');
			});

			$("li#to-home").bind("click", function(){
				$("html, body").animate({scrollTop: 0}, 'slow');
			});

			$("div#cross").bind("click", function(){
				viewer.hide();
			});

			$("div.prev-image").bind("click", function(){
				
				images.prev();

			});

			$("div.next-image").bind("click", function(){

				images.next();

			});

			$(document).bind("scroll", function(){

				var scroll = $(document).scrollTop();
				var height = {
					home: $("div#home").height() - 20,
					gallery: $("div#gallery").height() - 20,
					about_us: $("div#about-us").height() - 10,
					contact: $("div#contact").height() - 0
				};

				if( scroll < height.home ){
					$("div.header").css({"color":"#131313"});
				}
				if( scroll > height.home ){
					$("div.header").css({"color": "#eee"});

					if( scroll > ( height.home + height.gallery + height.about_us ) ){
						$("div.header").css({"color": "#131313"});
					}

				}

			});

			$("div.img-box").bind("click", function(){

				var now = $(this);
				var next = now.next();
				var prev = $(this).prev();

				prev.addClass("prev");
				now.addClass("now");
				next.addClass("next");

				var img = $(this).css("background-image");
				var imageName = img.replace("url(\"","").replace("\")","").replace("file:///home/mrd/Program/Web/Efim_visit/","");
				
				viewer.show();
				$("div.image-center").css({
					"background-image": "url(" + imageName + ")"
				});

				$("div.prev-image").css({
					"background-image": prev.css("background-image")
				});

				$("div.next-image").css({
					"background-image": next.css("background-image")
				});

				// console.log(now.css("background-image"));
				// console.log(next.css("background-image"));
				// console.log(prev.css("background-image"));
			});

			$(document).bind("keydown", function(event){
				if( event.keyCode == 27 ){
					viewer.hide();
				}
			});

			setInterval(function(){
				central();
			}, 100);
		});
	</script>
</html>